/* Open Design System – Fluid Typography System */

:root {
  /* =================================================== */
  /* FLUID TYPOGRAPHY SYSTEM */
  /* =================================================== */
  
  /* Viewport units for responsive calculations */
  --vw-mobile: 23.4375rem;    /* 375px - Mobile S */
  --vw-tablet: 50rem;         /* 800px - Tablet */
  --vw-desktop: 80rem;        /* 1280px - Desktop */
  
  /* =================================================== */
  /* FLUID FONT SIZES */
  /* Uses clamp(min, preferred, max) for smooth scaling */
  /* =================================================== */
  
  /* H1 - Main Title */
  /* Mobile: 40px → Desktop: 56px */
  --font-size-h1-fluid: clamp(2.5rem, 2.1429rem + 1.5238vw, 3.5rem);
  
  /* H2 - Sub Title */
  /* Mobile: 24px → Desktop: 32px */
  --font-size-h2-fluid: clamp(1.5rem, 1.2857rem + 0.9524vw, 2rem);
  
  /* H3 - Section Heading */
  /* Mobile: 20px → Desktop: 24px */
  --font-size-h3-fluid: clamp(1.25rem, 1.1786rem + 0.3571vw, 1.5rem);
  
  /* H4 - Component Heading */
  /* Mobile: 18px → Desktop: 20px */
  --font-size-h4-fluid: clamp(1.125rem, 1.0893rem + 0.1786vw, 1.25rem);
  
  /* H5 - Small Heading */
  /* Mobile: 14px → Desktop: 18px */
  --font-size-h5-fluid: clamp(0.875rem, 0.7679rem + 0.5357vw, 1.125rem);
  
  /* H6 - Caption/Label */
  /* Mobile: 12px → Desktop: 14px */
  --font-size-h6-fluid: clamp(0.75rem, 0.7143rem + 0.1786vw, 0.875rem);
  
  /* Body Large */
  /* Mobile: 16px → Desktop: 18px */
  --font-size-body-large-fluid: clamp(1rem, 0.9643rem + 0.1786vw, 1.125rem);
  
  /* Body Base */
  /* Mobile: 14px → Desktop: 16px */
  --font-size-body-base-fluid: clamp(0.875rem, 0.8393rem + 0.1786vw, 1rem);
  
  /* Body Small */
  /* Mobile: 12px → Desktop: 14px */
  --font-size-body-small-fluid: clamp(0.75rem, 0.7143rem + 0.1786vw, 0.875rem);
  
  /* =================================================== */
  /* FLUID LINE HEIGHTS */
  /* Responsive line heights that scale with font sizes */
  /* =================================================== */
  
  /* H1 Line Height */
  /* Mobile: 44px → Desktop: 60px */
  --line-height-h1-fluid: clamp(2.75rem, 2.4286rem + 1.3714vw, 3.75rem);
  
  /* H2 Line Height */
  /* Mobile: 28px → Desktop: 36px */
  --line-height-h2-fluid: clamp(1.75rem, 1.5357rem + 0.9143vw, 2.25rem);
  
  /* H3 Line Height */
  /* Mobile: 26px → Desktop: 30px */
  --line-height-h3-fluid: clamp(1.625rem, 1.5536rem + 0.3571vw, 1.875rem);
  
  /* H4 Line Height */
  /* Mobile: 24px → Desktop: 26px */
  --line-height-h4-fluid: clamp(1.5rem, 1.4643rem + 0.1786vw, 1.625rem);
  
  /* H5 Line Height */
  /* Mobile: 18px → Desktop: 22px */
  --line-height-h5-fluid: clamp(1.125rem, 1.0179rem + 0.5357vw, 1.375rem);
  
  /* H6 Line Height */
  /* Mobile: 16px → Desktop: 18px */
  --line-height-h6-fluid: clamp(1rem, 0.9643rem + 0.1786vw, 1.125rem);
  
  /* Body Line Heights */
  --line-height-body-large-fluid: clamp(1.5rem, 1.4643rem + 0.1786vw, 1.625rem);
  --line-height-body-base-fluid: clamp(1.25rem, 1.2143rem + 0.1786vw, 1.375rem);
  --line-height-body-small-fluid: clamp(1.125rem, 1.0893rem + 0.1786vw, 1.25rem);
  
  /* =================================================== */
  /* FLUID SPACING SYSTEM */
  /* Smooth scaling spacing values */
  /* =================================================== */
  
  /* Component Spacing - Fluid */
  --spacing-component-xs-fluid: clamp(0.25rem, 0.2143rem + 0.1786vw, 0.375rem);  /* 4px → 6px */
  --spacing-component-sm-fluid: clamp(0.5rem, 0.4286rem + 0.3571vw, 0.75rem);    /* 8px → 12px */
  --spacing-component-md-fluid: clamp(0.75rem, 0.6429rem + 0.5357vw, 1rem);      /* 12px → 16px */
  --spacing-component-lg-fluid: clamp(1rem, 0.7143rem + 1.4286vw, 1.5rem);       /* 16px → 24px */
  --spacing-component-xl-fluid: clamp(1.5rem, 1.0714rem + 2.1429vw, 2.5rem);     /* 24px → 40px */
  
  /* Section Spacing - Fluid */
  --spacing-section-xs-fluid: clamp(1.5rem, 1.0714rem + 2.1429vw, 2.5rem);       /* 24px → 40px */
  --spacing-section-sm-fluid: clamp(2rem, 1.4286rem + 2.8571vw, 3rem);           /* 32px → 48px */
  --spacing-section-md-fluid: clamp(2.5rem, 1.7857rem + 3.5714vw, 4rem);         /* 40px → 64px */
  --spacing-section-lg-fluid: clamp(3rem, 2.1429rem + 4.2857vw, 5rem);           /* 48px → 80px */
  --spacing-section-xl-fluid: clamp(4rem, 2.8571rem + 5.7143vw, 6rem);           /* 64px → 96px */
  
  /* =================================================== */
  /* FLUID ICON SIZES */
  /* =================================================== */
  
  --icon-size-xs-fluid: clamp(0.75rem, 0.7143rem + 0.1786vw, 0.875rem);   /* 12px → 14px */
  --icon-size-sm-fluid: clamp(1rem, 0.9286rem + 0.3571vw, 1.25rem);       /* 16px → 20px */
  --icon-size-md-fluid: clamp(1.25rem, 1.1429rem + 0.5357vw, 1.5rem);     /* 20px → 24px */
  --icon-size-lg-fluid: clamp(1.5rem, 1.3571rem + 0.7143vw, 2rem);        /* 24px → 32px */
  --icon-size-xl-fluid: clamp(2rem, 1.7857rem + 1.0714vw, 2.5rem);        /* 32px → 40px */
  
  /* =================================================== */
  /* SEMANTIC FLUID TYPOGRAPHY */
  /* Complete font shorthand with fluid values */
  /* =================================================== */
  
  /* Heading Utilities */
  --font-heading-1-fluid: var(--font-weight-bold) var(--font-size-h1-fluid)/var(--line-height-h1-fluid) var(--font-family-heading);
  --font-heading-2-fluid: var(--font-weight-semibold) var(--font-size-h2-fluid)/var(--line-height-h2-fluid) var(--font-family-heading);
  --font-heading-3-fluid: var(--font-weight-semibold) var(--font-size-h3-fluid)/var(--line-height-h3-fluid) var(--font-family-heading);
  --font-heading-4-fluid: var(--font-weight-medium) var(--font-size-h4-fluid)/var(--line-height-h4-fluid) var(--font-family-heading);
  --font-heading-5-fluid: var(--font-weight-medium) var(--font-size-h5-fluid)/var(--line-height-h5-fluid) var(--font-family-heading);
  --font-heading-6-fluid: var(--font-weight-medium) var(--font-size-h6-fluid)/var(--line-height-h6-fluid) var(--font-family-heading);
  
  /* Body Text Utilities */
  --font-body-large-fluid: var(--font-weight-normal) var(--font-size-body-large-fluid)/var(--line-height-body-large-fluid) var(--font-family-body);
  --font-body-base-fluid: var(--font-weight-normal) var(--font-size-body-base-fluid)/var(--line-height-body-base-fluid) var(--font-family-body);
  --font-body-small-fluid: var(--font-weight-normal) var(--font-size-body-small-fluid)/var(--line-height-body-small-fluid) var(--font-family-body);
  
  /* Special Text Types */
  --font-caption-fluid: var(--font-weight-medium) var(--font-size-h6-fluid)/var(--line-height-h6-fluid) var(--font-family-body);
  --font-label-fluid: var(--font-weight-medium) var(--font-size-body-small-fluid)/var(--line-height-body-small-fluid) var(--font-family-body);
  --font-button-fluid: var(--font-weight-semibold) var(--font-size-body-base-fluid)/var(--line-height-none) var(--font-family-body);
  --font-code-fluid: var(--font-weight-normal) var(--font-size-body-small-fluid)/var(--line-height-body-small-fluid) var(--font-family-mono);
  
  /* =================================================== */
  /* ADVANCED FLUID CALCULATIONS */
  /* For custom implementations */
  /* =================================================== */
  
  /* Viewport-based scaling factors */
  --fluid-scale-xs: clamp(0.8, 0.7 + 0.5vw, 1);      /* 0.8 → 1 */
  --fluid-scale-sm: clamp(0.9, 0.8 + 0.5vw, 1.1);    /* 0.9 → 1.1 */
  --fluid-scale-md: clamp(0.85, 0.7 + 0.75vw, 1.25); /* 0.85 → 1.25 */
  --fluid-scale-lg: clamp(0.8, 0.6 + 1vw, 1.5);      /* 0.8 → 1.5 */
  --fluid-scale-xl: clamp(0.75, 0.5 + 1.25vw, 2);    /* 0.75 → 2 */
  
  /* Container-aware scaling (for container queries) */
  --fluid-container-scale: clamp(0.875, 0.75 + 0.625cqw, 1.125);
  
  /* =================================================== */
  /* FLUID BORDERS AND RADIUSES */
  /* =================================================== */
  
  --border-width-fluid: clamp(1px, 0.0625rem + 0.0357vw, 2px);
  --border-radius-sm-fluid: clamp(0.25rem, 0.2143rem + 0.1786vw, 0.375rem);
  --border-radius-md-fluid: clamp(0.375rem, 0.3214rem + 0.2679vw, 0.5rem);
  --border-radius-lg-fluid: clamp(0.5rem, 0.4286rem + 0.3571vw, 0.75rem);
  --border-radius-xl-fluid: clamp(0.75rem, 0.6429rem + 0.5357vw, 1rem);
  
  /* =================================================== */
  /* PERFORMANCE OPTIMIZATIONS */
  /* =================================================== */
  
  /* Contain layout shifts during font loading */
  --font-display: swap;
  
  /* Optimize rendering */
  --text-rendering: optimizeLegibility;
  --font-smooth: antialiased;
  --webkit-font-smoothing: antialiased;
  --moz-osx-font-smoothing: grayscale;
}

/* =================================================== */
/* ACCESSIBILITY OVERRIDES */
/* =================================================== */

/* Respect user font size preferences */
@media (prefers-reduced-motion: reduce) {
  :root {
    /* Reduce fluid scaling for users who prefer less motion */
    --font-size-h1-fluid: clamp(2.25rem, 2.5rem, 3rem);
    --font-size-h2-fluid: clamp(1.375rem, 1.75rem, 1.875rem);
  }
}

/* High contrast mode adjustments */
@media (prefers-contrast: high) {
  :root {
    /* Increase font weights for better contrast */
    --font-heading-1-fluid: var(--font-weight-extrabold) var(--font-size-h1-fluid)/var(--line-height-h1-fluid) var(--font-family-heading);
    --font-heading-2-fluid: var(--font-weight-bold) var(--font-size-h2-fluid)/var(--line-height-h2-fluid) var(--font-family-heading);
  }
}

/* Large text preference */
@media (prefers-reduced-data: reduce) {
  :root {
    /* Optimize for data savings - smaller fonts */
    --font-size-h1-fluid: clamp(2rem, 2.1429rem + 1.0238vw, 2.75rem);
    --font-size-h2-fluid: clamp(1.25rem, 1.2857rem + 0.6524vw, 1.625rem);
  }
}

/* =================================================== */
/* CONTAINER QUERY SUPPORT */
/* For components that need container-based scaling */
/* =================================================== */

@container (min-width: 20rem) {
  .fluid-typography-container {
    --font-size-scaling: 1;
  }
}

@container (min-width: 40rem) {
  .fluid-typography-container {
    --font-size-scaling: 1.1;
  }
}

@container (min-width: 60rem) {
  .fluid-typography-container {
    --font-size-scaling: 1.2;
  }
}

/* =================================================== */
/* DEBUGGING AND DEVELOPMENT */
/* =================================================== */

/* Debug utility to visualize current font sizes */
.debug-fluid-typography::before {
  content: 'H1: ' var(--font-size-h1-fluid) ' | H2: ' var(--font-size-h2-fluid) ' | H3: ' var(--font-size-h3-fluid);
  position: fixed;
  top: 0;
  left: 0;
  background: var(--color-bg-card);
  color: var(--color-text-primary);
  padding: var(--spacing-component-xs-fluid);
  font-family: var(--font-family-mono);
  font-size: var(--font-size-body-small-fluid);
  z-index: var(--z-debug);
  border: 1px solid var(--color-border-default);
}

/* =================================================== */
/* LEGACY COMPATIBILITY */
/* Map old responsive tokens to new fluid tokens */
/* =================================================== */

:root {
  /* Backwards compatibility aliases */
  --font-size-h1-title: var(--font-size-h1-fluid);
  --font-size-h2-sub-title: var(--font-size-h2-fluid);
  --font-size-h3-body: var(--font-size-h5-fluid);  /* Maps to H5 for compatibility */
  --font-size-h5-caption: var(--font-size-h6-fluid);
  
  --font-line-space-h1-main-title: var(--line-height-h1-fluid);
  --font-line-space-h2-sub-title: var(--line-height-h2-fluid);
  --font-line-space-h3-body: var(--line-height-h5-fluid);
  --font-line-space-h5-caption: var(--line-height-h6-fluid);
  
  /* Responsive tokens now use fluid values */
  --font-responsive-h1: var(--font-heading-1-fluid);
  --font-responsive-h2: var(--font-heading-2-fluid);
  --font-responsive-h3: var(--font-heading-5-fluid);
  --font-responsive-h5: var(--font-heading-6-fluid);
}